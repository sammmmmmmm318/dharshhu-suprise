<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pixels</title>
    <link href="https://fonts.googleapis.com/css2?family=Gochi+Hand&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #f4f1ea;
            --sage: #4a674a;
        }

        /* --- LOADING SCREEN --- */
        #loader {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: #b2beb5;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }
        .spinner {
            width: 40px; height: 40px;
            border: 4px solid rgba(255,255,255,0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        /* --- MERGED BODY & CANVAS --- */
        body {
            margin: 0; 
            padding: 10px 0;
            background-image: url(gallerybg.jpg);
            font-family: 'Gochi Hand', cursive;
            width: 100%;
            height: 100vh; /* Fixed to phone height */
            overflow: hidden; /* No scrolling allowed */
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* Spreads content top-to-bottom */
            box-sizing: border-box;
            visibility: hidden; /* Hidden until images load */
        }

        .header-title {
            font-family: 'Great Vibes', cursive;
            text-align: center;
            font-size: 2.5rem;
            color: var(--sage);
            margin: 5px 0;
            flex-shrink: 0;
        }

        /* Container to hold the strips */
        #strips-wrapper {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-evenly; /* Distributes strips across the tall screen */
            width: 100%;
        }

        /* Film Strip Container */
        .film-strip {
            background: #1a1a1a;
            padding: 10px 0;
            display: flex;
            justify-content: center; 
            gap: 5px;
            border-top: 2px dashed rgba(255,255,255,0.3);
            border-bottom: 2px dashed rgba(255,255,255,0.3);
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            width: 100%;
        }

        /* Individual Photo - Sized for 5 per row */
        .film-strip img {
            width: calc(20% - 8px); 
            aspect-ratio: 1/1;
            object-fit: cover;
            border: 1px solid #333;
            background: #222;
        }

        /* Subtle tilts for the 5 strips */
        .strip-0 { transform: rotate(-1.2deg); }
        .strip-1 { transform: rotate(1.2deg); }
        .strip-2 { transform: rotate(-0.8deg); }
        .strip-3 { transform: rotate(1deg); }
        .strip-4 { transform: rotate(-1.5deg); }

        .back-btn {
            display: block; 
            width: fit-content; 
            margin: 10px auto;
            padding: 10px 30px; 
            background: var(--sage);
            color: white; 
            text-decoration: none; 
            border-radius: 25px;
            font-size: 1.1rem;
            flex-shrink: 0;
            z-index: 10;
        }
    </style>
</head>
<body>

    <div id="loader">
        <div class="spinner"></div>
        <div style="color:white; margin-top:10px;">Developing...</div>
    </div>

    <h1 class="header-title">Glimpse of us!!</h1>
    
    <div id="strips-wrapper">
        </div>

    <a href="index.html" class="back-btn">‚Üê Back to Home</a>

    <script>
        const totalPhotos = 25; 
        const photosPerStrip = 5;
        const wrapper = document.getElementById('strips-wrapper');
        let loadedCount = 0;
        let isFinished = false;

        // Generate Strips
        for (let s = 0; s < 5; s++) {
            const stripDiv = document.createElement('div');
            stripDiv.className = `film-strip strip-${s}`;
            stripDiv.id = `strip-${s}`;
            wrapper.appendChild(stripDiv);
        }

        function revealPage() {
            if (isFinished) return;
            isFinished = true;
            
            const loader = document.getElementById('loader');
            loader.style.opacity = '0';
            setTimeout(() => {
                loader.style.display = 'none';
                document.body.style.visibility = 'visible';
            }, 500);

            localStorage.setItem('card-3', 'done');
        }

        // Safety timeout for tall screens/slow connections
        setTimeout(() => { if (!isFinished) revealPage(); }, 4500);

        // Load and Place Images
        for (let i = 1; i <= totalPhotos; i++) {
            const img = new Image();
            img.src = `${i}.jpg`; 
            
            img.onload = img.onerror = () => {
                loadedCount++;
                if (loadedCount >= totalPhotos) revealPage();
            };

            const stripIndex = Math.floor((i - 1) / photosPerStrip);
            const targetStrip = document.getElementById(`strip-${stripIndex}`);
            if (targetStrip) targetStrip.appendChild(img);
        }
    </script>
</body>
</html>
